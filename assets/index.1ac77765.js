var Pt=Object.defineProperty,Ct=Object.defineProperties;var It=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var Mt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable;var je=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ae=(e,t)=>{for(var r in t||(t={}))Mt.call(t,r)&&je(e,r,t[r]);if(Le)for(var r of Le(t))Nt.call(t,r)&&je(e,r,t[r]);return e},De=(e,t)=>Ct(e,It(t));import{o as w,c as k,r as U,d as q,a as j,w as we,v as Rt,u as h,b as u,i as Se,n as Lt,e as me,f as be,t as F,g as ke,h as Y,j as H,k as T,l as he,m as ge,p as ve,q as jt,T as at,s as Dt,x as Vt,y as it,z as zt,A as ct,B as Ht,C as Ft,D as Bt,E as le,F as ue,G as O,H as Ut,I as Gt,J as qt}from"./vendor.fecb09f3.js";const Jt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};Jt();var Kt="/harlem/images/logo-192.svg";var $e=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};const Zt={},Xt={class:"container"};function Wt(e,t){return w(),k("div",Xt,[U(e.$slots,"default")])}var Yt=$e(Zt,[["render",Wt]]);const Qt={},er={class:"choice-group",layout:"row center-stretch"};function tr(e,t){return w(),k("div",er,[U(e.$slots,"default")])}var Ve=$e(Qt,[["render",tr]]);const rr=["for"],or=["id","value"],ze=q({props:{id:{type:String,default:`choice-${Math.round(Math.random()*1e5)}`},modelValue:{type:null},value:{type:null}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,o=j({get:()=>r.modelValue,set:a=>t("update:modelValue",a)}),n=j(()=>({"choice--checked":r.modelValue===r.value}));return(a,s)=>(w(),k("label",{class:Lt(["choice",h(n)]),for:e.id},[we(u("input",{class:"choice__input",type:"radio",name:"clock-type",id:e.id,value:e.value,"onUpdate:modelValue":s[0]||(s[0]=d=>Se(o)?o.value=d:null)},null,8,or),[[Rt,h(o)]]),U(a.$slots,"default")],10,rr))}});const nr={},sr={class:"meta-text"};function ar(e,t){return w(),k("span",sr,[U(e.$slots,"default")])}var lt=$e(nr,[["render",ar]]);function ir(e,t,r){return Math.max(t,Math.min(r,e))}function Ee(e,t){const[r,o]=e,[n,a]=t,s=o-r,d=a-n;return(i,f)=>{const c=(i-r)*d/s+n;return f?ir(c,n,a):c}}const cr=Ee([0,12],[0,360]),ut=Ee([0,60],[0,360]),dt=Ee([0,60],[0,1]);function lr(e,t=0){return cr(e+dt(t))}function ur(e,t=0){return ut(e+dt(t))}function dr(e){return ut(e)}const fr={class:"analogue-clock"},pr={class:"analogue-clock__face"},_r=u("div",{class:"analogue-clock__hand-spindle"},null,-1),mr=q({props:{time:{type:Date,default:()=>new Date}},setup(e){const t=e,r=j(()=>{const o=t.time.getHours()%12,n=t.time.getMinutes(),a=t.time.getSeconds();return{hour:{transform:`translateX(var(--clock__hand-offset)) rotate(${lr(o,n)}deg)`},minute:{transform:`translateX(var(--clock__hand-offset)) rotate(${ur(n,a)}deg)`},second:{transform:`translateX(var(--clock__hand-offset)) rotate(${dr(a)}deg)`}}});return(o,n)=>(w(),k("div",fr,[u("div",pr,[u("div",{class:"analogue-clock__hand analogue-clock__hand--hour",style:me(h(r).hour)},null,4),u("div",{class:"analogue-clock__hand analogue-clock__hand--minute",style:me(h(r).minute)},null,4),u("div",{class:"analogue-clock__hand analogue-clock__hand--second",style:me(h(r).second)},null,4),_r])]))}});const hr={class:"digital-clock"},gr={class:"digital-clock__time"},vr={class:"digital-clock__phase"},yr=q({props:{time:{type:Date,default:()=>new Date},timezone:{type:String}},setup(e){const t=e,r=j(()=>({time:be(t.time,"h:mm",{timeZone:t.timezone}),phase:be(t.time,"a",{timeZone:t.timezone})}));return(o,n)=>(w(),k("div",hr,[u("span",gr,F(h(r).time),1),u("span",vr,F(h(r).phase),1)]))}});const wr={class:"modal__content",self:"size-small"},Sr={key:0,class:"modal__header"},br={class:"modal__body"},kr={key:1,class:"modal__footer"},$r={inheritAttrs:!1},Er=q(De(ae({},$r),{setup(e,{expose:t}){const r=ke(!1),o=()=>r.value=!0,n=()=>r.value=!1;return t({open:o,close:n}),(a,s)=>(w(),Y(Dt,{to:"body"},[H(at,{name:"modal"},{default:T(()=>[r.value?(w(),k("div",jt({key:0,class:"modal",layout:"row center-center"},a.$attrs),[u("div",wr,[a.$slots.header?(w(),k("div",Sr,[U(a.$slots,"header",he(ge({open:o,close:n})))])):ve("",!0),u("div",br,[U(a.$slots,"default",he(ge({open:o,close:n})))]),a.$slots.footer?(w(),k("div",kr,[U(a.$slots,"footer",he(ge({open:o,close:n})))])):ve("",!0)])],16)):ve("",!0)]),_:3})]))}}));function Or(e,t){return e.toLocaleLowerCase().includes(t.toLocaleLowerCase())}function ft(e){var t,r,o;return(o=(r=(t=e.split("/").pop())!=null?t:"")==null?void 0:r.replace("_"," "))!=null?o:e}const pt="app",_t={timezones:"timezones",clocks:"clocks"},J={setTheme:"set-theme",updateTime:"update-time",setClockType:"set-clock-type",addClocks:"add-clocks",removeClock:"remove-clock"},Tr={loadTimezones:"load-timezones"},Z={version:1,theme:"light",themes:[{label:"Light",value:"light"},{label:"Dark",value:"dark"}],time:new Date,timezones:[],clockType:"analogue",clockTypes:[{label:"Analogue",value:"analogue"},{label:"Digital",value:"digital"}],clocks:["Australia/Brisbane","America/New_York","Europe/London","Europe/Paris","Asia/Tokyo","Australia/Sydney","Asia/Hong_Kong","Asia/Dubai"]};function Ar(){const e=`harlem:${pt}`,t=localStorage.getItem(e);if(!t)return Z;try{const r=JSON.parse(t);return r.version!==Z.version?(localStorage.removeItem(e),Z):ae(ae({},Z),r)}catch{return Z}}function ye(e,t){return(...r)=>{try{return e(...r)}finally{t()}}}var de=class extends Promise{constructor(e,t=new AbortController){if(t.signal.aborted)throw new Error("Cannot attach task to an already aborted controller");const r=new Set,o=s=>{r.add(s),t.signal.addEventListener("abort",s)},n=s=>{r.delete(s),t.signal.removeEventListener("abort",s)},a=()=>{r.size>0&&r.forEach(n)};super((s,d)=>{const i=ye(s,a),f=ye(d,a);e(i,f,t,g=>{const b=ye(()=>g(this.abortReason),()=>n(b));o(b)})});this.controller=t}static isTask(e){return e instanceof de}get signal(){return this.controller.signal}get hasAborted(){return this.signal.aborted}abort(e){return this.abortReason=e,this.controller.abort(),this}};function Oe(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ie(e){return e}function X(e){return new e.constructor(e)}function xr(e){const t=new RegExp(e.source);return t.lastIndex=e.lastIndex,t}function Pr(e){return Object(Symbol.prototype.valueOf.call(e))}function Cr(e){const t={};for(const r in e)t[r]=Q(e[r]);return t}function Ir(e){return e.map(Q)}function Mr(e){const t=new Set;return e.forEach(r=>{t.add(Q(r))}),t}function Nr(e){const t=new Map;return e.forEach((r,o)=>{t.set(o,Q(r))}),t}var He={default:ie,null:ie,undefined:ie,boolean:X,number:X,string:X,error:X,date:X,regexp:xr,function:ie,symbol:Pr,array:Ir,object:Cr,map:Nr,set:Mr};function Q(e){const t=h(e);if(typeof t!="object"||t===null)return t;const r=Oe(t);return(He[r]||He.default)(t)}function Rr(e,t){return new Proxy(e,{get(r,o){if(t.includes(o))throw new Error(`Access to property '${o}' is denied`);const n=r[o];return typeof n=="function"?(...a)=>Reflect.apply(n,r,a):n}})}function mt(e,t){const r={};for(const o in e)t.test(o)||(r[o]=e[o]);return r}function Lr(e){return Oe(e)==="array"}function jr(e,t){return(Lr(t)?t:t.split("/")).reduce((o,n)=>o==null?void 0:o[n],e)}function Dr(e){return e.reduceRight((t,r)=>{const o=r.toString();return(isNaN(parseInt(o,10))?`/${r.toString()}`:`[${r.toString()}]`)+t.toString()},"").toString()}function Vr(e){return Oe(e)==="function"}function ht(e){return e==null}var zr=Object.defineProperty,Hr=Object.defineProperties,Fr=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Be=(e,t,r)=>t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t)=>{for(var r in t||(t={}))Br.call(t,r)&&Be(e,r,t[r]);if(Fe)for(var r of Fe(t))Ur.call(t,r)&&Be(e,r,t[r]);return e},Gr=(e,t)=>Hr(e,Fr(t)),qr=class{constructor(){this.listeners={}}on(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),{dispose:()=>this.off(e,t)}}off(e,t){const r=this.listeners[e];!r||(this.listeners[e]=r.filter(o=>o!==t),this.listeners[e].length===0&&delete this.listeners[e])}once(e,t){const r=o=>{t(o),this.off(e,r)};return this.on(e,r)}emit(e,t){const r=this.listeners[e];!r||r.forEach(o=>o(t))}},M=new qr,B="core",v={core:{installed:"core:installed"},store:{created:"store:created",destroyed:"store:destroyed"},mutation:{before:"mutation:before",after:"mutation:after",success:"mutation:success",error:"mutation:error"},ssr:{initServer:"ssr:init:server",initClient:"ssr:init:client"},devtools:{update:"devtools:update"}},Ue={read:e=>e,write:e=>e,payload:e=>Q(e)},Te={prefix:"$harlem:",pattern:/^\$harlem:/};function Ge(e,t){return r=>{r&&r.store===e&&t(r)}}var Jr=class{constructor(e,t,r){this.options=Gr(C({allowOverwrite:!0},r),{providers:C(C({},Ue),r==null?void 0:r.providers)}),this.name=e,this.registrations={},this.flags=new Map,this.stack=new Set,this.isSuppressing=!1,this.scope=Vt(),this.writeState=it(t),this.readState=zt(this.writeState)}get allowsOverwrite(){return this.options.allowOverwrite}get providers(){return C(C({},Ue),this.options.providers)}get state(){var e;return(e=this.providers.read(this.readState))!=null?e:this.readState}emit(e,t,r){if(!this.scope.active||this.isSuppressing)return;const o={data:r,sender:t,store:this.name};M.emit(e,o)}on(e,t){return M.on(e,Ge(this.name,t))}once(e,t){return M.once(e,Ge(this.name,t))}getFlag(e){return this.flags.get(e)}setFlag(e,t){this.flags.set(e,t)}provider(e,t){this.options.providers[e]=t}track(e){return this.scope.run(e)}hasRegistration(e,t){var r;return!!((r=this.registrations[e])==null?void 0:r.has(t))}getRegistration(e,t){var r;return(r=this.registrations[e])==null?void 0:r.get(t)}register(e,t,r,o="other"){if(e in this.registrations||(this.registrations[e]=new Map),!this.allowsOverwrite&&this.hasRegistration(e,t))throw new Error(`A ${e} named ${t} has already been registered on this store`);this.registrations[e].set(t,{type:o,producer:r})}unregister(e,t){var r;(r=this.registrations[e])==null||r.delete(t)}suppress(e){this.isSuppressing=!0;try{return e()}finally{this.isSuppressing=!1}}getter(e,t){const r=this.track(()=>j(()=>t(this.state)));return this.register("getters",e,()=>r.value,"computed"),r}mutate(e,t,r,o){var n,a;if(!this.scope.active)throw new Error("The current store has been destroyed. Mutations can no longer take place.");if(this.stack.has(e))throw new Error("Circular mutation reference detected. Avoid calling mutations inside other mutations to prevent circular references.");this.stack.add(e);let s;const d=i=>this.emit(i,t,{mutation:e,payload:o,result:s});d(v.mutation.before);try{const i=(n=this.providers.write(this.writeState))!=null?n:this.writeState,f=(a=this.providers.payload(o))!=null?a:o;s=r(i,f),d(v.mutation.success)}catch(i){throw d(v.mutation.error),i}finally{this.stack.delete(e),d(v.mutation.after)}return s}mutation(e,t){const r=o=>this.mutate(e,B,t,o);return this.register("mutations",e,()=>r),r}write(e,t,r,o){const n=()=>this.mutate(e,t,r,void 0);return(o?()=>this.suppress(n):n)()}destroy(){this.scope.stop()}},fe=new Map,gt=!1;function Kr(e){const t=fe.get(e);if(t&&!t.allowsOverwrite)throw new Error(`A store named ${e} has already been registered.`)}function Zr(e,t){const r=()=>{e.emit(v.ssr.initClient,B,t),e.emit(v.store.created,B,t),e.emit(v.ssr.initServer,B,t),e.emit(v.devtools.update,B,t)};if(gt)return r();M.once(v.core.installed,r)}function Xr(e,t){return t.reduce((r,o)=>{let n={};try{n=o(e)||{}}catch{n={}}return C(C({},r),n)},{})}function Wr(e,t){if(!e||typeof e.install!="function")return;const{name:r,install:o}=e,n=Rr(fe,["set","delete","clear"]);try{o(t,M,n)}catch{console.warn(`Failed to install Harlem plugin: ${r}. Skipping.`)}}M.on.bind(M);M.once.bind(M);function Yr(e,t,r){const{allowOverwrite:o,providers:n,extensions:a}=C({allowOverwrite:!0,extensions:[$=>({})]},r);Kr(e);const s=new Jr(e,t,{allowOverwrite:o,providers:n}),d=()=>{fe.delete(e),s.destroy(),s.emit(v.store.destroyed,B,t),s.emit(v.devtools.update,B,t)},i=$=>(N,K)=>{const G=[].concat(N);return s.on($,y=>{y&&G.includes(y.data.mutation)&&K(y.data)})},f=i(v.mutation.before),c=i(v.mutation.after),g=i(v.mutation.success),b=i(v.mutation.error),x=Xr(s,a);return fe.set(e,s),Zr(s,t),C({destroy:d,onBeforeMutation:f,onAfterMutation:c,onMutationSuccess:g,onMutationError:b,state:s.state,getter:s.getter.bind(s),mutation:s.mutation.bind(s),suppress:s.suppress.bind(s),on:s.on.bind(s),once:s.once.bind(s)},x)}var Qr={install(e,t){const{plugins:r}=C({plugins:[]},t);r&&r.forEach(o=>Wr(o,e)),gt=!0,M.emit(v.core.installed)}},eo=Object.defineProperty,to=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,qe=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,Je=(e,t,r)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))oo.call(t,r)&&Je(e,r,t[r]);if(qe)for(var r of qe(t))no.call(t,r)&&Je(e,r,t[r]);return e},Ke=(e,t)=>to(e,ro(t)),Ze=(e,t,r)=>new Promise((o,n)=>{var a=i=>{try{d(r.next(i))}catch(f){n(f)}},s=i=>{try{d(r.throw(i))}catch(f){n(f)}},d=i=>i.done?o(i.value):Promise.resolve(i.value).then(a,s);d((r=r.apply(e,t)).next())}),P="extension:action",E=`${Te.prefix}actions`,V={init:"extension:action:init",register:"extension:action:register",incrementRunCount:"extension:action:increment-run-count",addInstance:"extension:action:add-instance",removeInstance:"extension:action:remove-instance",addError:"extension:action:add-error",clearErrors:"extension:action:clear-errors",resetState:"extension:action:reset-state"},z={action:{before:"action:before",after:"action:after",success:"action:success",error:"action:error"}};function vt(e,t){return`Action ${e} has been cancelled. Reason: ${t||"unknown"}`}var yt=class extends Error{constructor(e,t,r){super(vt(e,r));this.name=e,this.instanceId=t,this.reason=r}},so={error:(e,t,r,o,n)=>{o(new yt(e,t,n))},warn:(e,t,r,o,n)=>{console.warn(vt(e,n)),r()}};function ao(e){const{strategies:t}=Ke(W({},e),{strategies:W({abort:so.error},e==null?void 0:e.strategies)});return r=>{r.register("extensions","action",()=>e);const o=r,n=new Map;o.write(V.init,P,l=>l[E]={},!0);function a(l,p){l[E][p]={runCount:0,instances:new Map,errors:new Map}}function s(l){o.register("actions",l,()=>()=>{}),o.write(V.register,P,_=>a(_,l),!0);const p=new Set;return n.set(l,p),{tasks:p}}function d(l){o.write(V.incrementRunCount,P,p=>p[E][l].runCount+=1)}function i(l,p,_){o.write(V.addInstance,P,m=>{var S;return(S=m[E][l])==null?void 0:S.instances.set(p,_)})}function f(l,p){o.write(V.removeInstance,P,_=>{var m;return(m=_[E][l])==null?void 0:m.instances.delete(p)})}function c(l,p,_){o.write(V.addError,P,m=>{var S;return(S=m[E][l])==null?void 0:S.errors.set(p,_)})}function g(l){o.write(V.clearErrors,P,p=>{var _;return(_=p[E][l])==null?void 0:_.errors.clear()})}function b(l,p,_){const{tasks:m}=s(l),{parallel:S,autoClearErrors:re,strategies:D}=Ke(W({parallel:!1,autoClearErrors:!0},_),{strategies:W(W({},t),_==null?void 0:_.strategies)}),oe=L=>o.write(l,P,L);return(L,At)=>{S||xe(l,"New instance started on non-parallel action"),re&&g(l);const pe=new de((Pe,Ce,xt,Ie)=>Ze(this,null,function*(){var Me;const ne=Symbol(l),Ne=()=>(m.delete(pe),f(l,ne)),Re=A=>D.abort(l,ne,Pe,Ce,A);let _e;const se=A=>o.emit(A,P,{action:l,payload:L,result:_e});Ie(A=>(Ne(),Re(A))),i(l,ne,L),se(z.action.before);try{const A=(Me=o.providers.payload(L))!=null?Me:L;_e=yield p(A,oe,xt,Ie),se(z.action.success),d(l),Pe(_e)}catch(A){if(A instanceof DOMException)return Re("Network request cancelled");se(z.action.error),d(l),c(l,ne,A),Ce(A)}finally{se(z.action.after),Ne()}}),At);return m.add(pe),pe}}function x(l){return(p,_)=>{const m=[].concat(p);return o.on(l,S=>{S&&m.includes(S.data.action)&&_(S.data)})}}function $(l){return o.state[E][l].runCount>0}function N(l,p){const{instances:_}=o.state[E][l],m=Array.from(_.values());return _.size>0&&(!p||m.some(S=>p(S)))}function K(l,p,_){return new de((m,S,re,D)=>{const oe=()=>!N(l,p);if(oe())return m();const L=ct(()=>{oe()&&(L(),m())});D(()=>{L(),m()})},_)}function G(l){var p;return((p=o.state[E][l])==null?void 0:p.errors.size)>0}function y(l){var p;return Array.from((p=o.state[E][l])==null?void 0:p.errors.entries()).map(([_,m])=>({id:_,error:m}))}function R(l){return l instanceof yt}function te(l){const p=[].concat(l||Object.keys(o.state[E]));o.write(V.resetState,P,_=>p.forEach(m=>{m in _[E]&&a(_,m)}))}function xe(l,p){[].concat(l).forEach(_=>{const m=n.get(_);m&&m.size>0&&m.forEach(S=>{S.abort(p),m.delete(S)})})}function kt(l){return(p,_)=>new de((m,S,re)=>Ze(this,null,function*(){try{const D=yield l(p,re);m(D)}catch(D){R(D)?m(void 0):S(D)}}),_)}const $t=x(z.action.before),Et=x(z.action.after),Ot=x(z.action.success),Tt=x(z.action.error);return{action:b,hasActionRun:$,isActionRunning:N,whenActionIdle:K,hasActionFailed:G,getActionErrors:y,isActionAbortError:R,resetActionState:te,abortAction:xe,suppressAbortError:kt,onBeforeAction:$t,onAfterAction:Et,onActionSuccess:Ot,onActionError:Tt}}}var io="extension:compose";function wt(e){return new Proxy({},{get(t,r){return e(r),wt(e)}})}function co(){const e=new Set;return{value:wt(n=>e.add(n)),getNodes:()=>Array.from(e),resetNodes:()=>e.clear()}}function lo(){return e=>{e.register("extensions","compose",()=>({}));const{value:t,getNodes:r,resetNodes:o}=co();function n(s,d){s(t);const i=r(),f=d||`extension:compose:${Dr(["root",...i])}`,c=i.pop(),g=$=>jr($,i);if(o(),ht(c))throw new Error("A valid property must be used");const b=()=>g(e.state)[c];return[b,$=>e.write(f,io,N=>{g(N)[c]=Vr($)?$(b()):$})]}function a(s,d){const[i,f]=n(s,d);return j({get:()=>i(),set:c=>f(c)})}return{useState:n,computeState:a}}}var uo=Object.defineProperty,Xe=Object.getOwnPropertySymbols,fo=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable,We=(e,t,r)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_o=(e,t)=>{for(var r in t||(t={}))fo.call(t,r)&&We(e,r,t[r]);if(Xe)for(var r of Xe(t))po.call(t,r)&&We(e,r,t[r]);return e},mo="extension:storage",Ye={sync:"extension:storage:sync"};function ho(e){const{type:t,prefix:r,sync:o,restore:n,exclude:a,serialiser:s,parser:d}=_o({type:"local",prefix:"harlem",sync:!0,restore:!1,exclude:[],serialiser:i=>JSON.stringify(i),parser:i=>JSON.parse(i)},e);return i=>{if(i.getFlag("ssr:server")){const y=()=>{};return{startStorageSync:y,stopStorageSync:y,clearStorage:y,restoreStorage:y}}i.register("extensions","storage",()=>e);const f=t==="session"?sessionStorage:localStorage,c=r?`${r}:${i.name}`:i.name;function g(){i.on(v.mutation.success,y=>{if(!(!y||y.data.mutation===Ye.sync||a.includes(y.data.mutation)))try{const R=mt(i.state,Te.pattern);f.setItem(c,s(R))}catch{console.warn("Failed to write to storage")}})}function b(y){i.write(Ye.sync,mo,R=>Object.assign(R,d(y)))}function x({key:y,storageArea:R,newValue:te}){R===f&&y===c&&te&&b(te)}function $(){window.addEventListener("storage",x)}function N(){window.removeEventListener("storage",x)}function K(){f.removeItem(c)}function G(){const y=f.getItem(c);ht(y)||b(y)}return i.once(v.store.created,()=>{g(),o&&$(),n&&G()}),i.once(v.store.destroyed,()=>N()),{startStorageSync:$,stopStorageSync:N,clearStorage:K,restoreStorage:G}}}const{state:ce,getter:St,mutation:ee,action:go,isActionRunning:_n,computeState:Qe}=Yr(pt,Ar(),{extensions:[ao(),lo(),ho({exclude:[J.updateTime]})]});ee(J.setTheme,(e,t)=>e.theme=t);const vo=ee(J.updateTime,e=>e.time=new Date);ee(J.setClockType,(e,t)=>e.clockType=t);const yo=ee(J.addClocks,(e,t)=>e.clocks=e.clocks.concat(t)),wo=ee(J.removeClock,(e,t)=>e.clocks=e.clocks.filter(r=>r!==t)),So=St(_t.timezones,({timezones:e,clocks:t})=>{const r=e.flatMap(({utc:o})=>o).filter(o=>!t.includes(o)).sort((o,n)=>o.localeCompare(n));return Array.from(new Set(r))}),bo=St(_t.clocks,({clocks:e,time:t})=>e.map(r=>({timezone:r,time:Ht(t,r)}))),ko="modulepreload",et={},$o="/harlem/",Eo=function(t,r){return!r||r.length===0?t():Promise.all(r.map(o=>{if(o=`${$o}${o}`,o in et)return;et[o]=!0;const n=o.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const s=document.createElement("link");if(s.rel=n?"stylesheet":ko,n||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),n)return new Promise((d,i)=>{s.addEventListener("load",d),s.addEventListener("error",i)})})).then(()=>t())},Oo=go(Tr.loadTimezones,async(e,t)=>{const{default:r}=await Eo(()=>import("./timezones.f294fd1e.js"),[]);t(o=>o.timezones=r)});setInterval(()=>vo(),1e3);const To=u("h2",{class:"add-clock-modal__title"},"Add Clock",-1),Ao=u("label",{class:"form-label",for:""},"Timezone",-1),xo=["value"],Po={class:"add-clock-modal__tip"},Co=u("strong",null,"Tip:",-1),Io=O(" select multiple timezones by holding ctrl/cmd when clicking an item "),Mo={class:"add-clock-modal__actions",layout:"row center-right"},No=["onClick"],Ro=["disabled"],Lo=q({setup(e,{expose:t}){const r=ke(),o=it({filter:"",selection:[]}),n=j(()=>So.value.filter(i=>Or(i,o.filter))),a=j(()=>o.selection.length>0);function s(){o.filter="",o.selection=[]}function d(){o.selection.length!==0&&(yo(o.selection),r.value.close())}return t({open:()=>(s(),r.value.open()),close:()=>r.value.close()}),(i,f)=>(w(),Y(Er,{class:"add-clock-modal",ref_key:"modal",ref:r},{header:T(()=>[To]),footer:T(({close:c})=>[u("div",Mo,[u("button",{class:"button",onClick:g=>c()},"Cancel",8,No),u("button",{class:"button button--primary",disabled:!h(a),onClick:f[2]||(f[2]=g=>d())},"Add "+F(h(o).selection.length)+" Clocks",9,Ro)])]),default:T(()=>[Ao,we(u("input",{class:"add-clock-modal__filter","onUpdate:modelValue":f[0]||(f[0]=c=>h(o).filter=c),type:"text",placeholder:"Search for a timezone...",autofocus:""},null,512),[[Ft,h(o).filter]]),we(u("select",{class:"add-clock-modal__timezones","onUpdate:modelValue":f[1]||(f[1]=c=>h(o).selection=c),multiple:"true"},[(w(!0),k(ue,null,le(h(n),c=>(w(),k("option",{key:c,value:c},F(h(ft)(c)),9,xo))),128))],512),[[Bt,h(o).selection]]),u("div",Po,[H(lt,null,{default:T(()=>[Co,Io]),_:1})])]),_:1},512))}});const jo={class:"app"},Do={class:"app__header"},Vo=u("a",{href:"https://harlemjs.com",target:"_blank"},[u("img",{class:"app__logo",src:Kt,alt:"Harlem"})],-1),zo=u("h1",{class:"app__title"},"Harlem",-1),Ho=u("p",{class:"app__intro"},[O(" This world clock application is a basic demonstration of some of the core features of Harlem. "),u("br"),u("br"),O(" Each clock is synchronised by a single time value stored on "),u("strong",null,"state"),O(". A timer is set to run a "),u("strong",null,"mutation"),O(" each second to update the stored time. A "),u("strong",null,"getter"),O(" then recalculates each clock's time based on it's timezone. State is synchronised with localStorage using the "),u("strong",null,"storage extension"),O(". Open this URL in multiple tabs to see your changes synced across tabs. "),u("br"),u("br"),O(" If you have the Vue "),u("strong",null,"devtools"),O(" installed, open them up and change the inspector to Harlem to see the store. The source code for this demo is available "),u("a",{href:"https://github.com/andrewcourtice/harlem/tree/main/app",target:"_blank"},"here"),O(". ")],-1),Fo={class:"app__options",layout:"rows center-justify"},Bo={class:"app__clocks"},Uo={class:"app__clock-label"},Go={class:"app__clock-timezone"},qo={class:"app__clock-date"},Jo={class:"app__clock-shade",layout:"row bottom-stretch"},Ko=["onClick"],Zo={class:"app__footer"},Xo=O("MIT Licensed | Copyright \xA9 2020-present Andrew Courtice"),Wo=q({setup(e){Oo(),ct(()=>document.body.setAttribute("theme",ce.theme.toLowerCase()));const t=ke(),r=Qe(d=>d.theme),o=Qe(d=>d.clockType),n=j(()=>ce.clockType==="analogue"?mr:yr);function a(d,i){return be(d,"EEE, do MMM yyyy",{timeZone:i})}function s(){t.value.open()}return(d,i)=>(w(),k("div",jo,[H(Yt,null,{default:T(()=>[u("header",Do,[Vo,zo,Ho,H(Ve,{class:"app__theme"},{default:T(()=>[(w(!0),k(ue,null,le(h(ce).themes,({label:f,value:c})=>(w(),Y(ze,{key:c,id:c,value:c,modelValue:h(r),"onUpdate:modelValue":i[0]||(i[0]=g=>Se(r)?r.value=g:null)},{default:T(()=>[O(F(f),1)]),_:2},1032,["id","value","modelValue"]))),128))]),_:1})]),u("div",Fo,[H(Ve,{self:"sm-full"},{default:T(()=>[(w(!0),k(ue,null,le(h(ce).clockTypes,({label:f,value:c})=>(w(),Y(ze,{key:c,id:c,value:c,modelValue:h(o),"onUpdate:modelValue":i[1]||(i[1]=g=>Se(o)?o.value=g:null)},{default:T(()=>[O(F(f),1)]),_:2},1032,["id","value","modelValue"]))),128))]),_:1}),u("button",{class:"button button--primary",self:"sm-full",onClick:i[2]||(i[2]=f=>s())},"Add Clock")]),u("div",Bo,[H(at,{name:"clocks"},{default:T(()=>[(w(!0),k(ue,null,le(h(bo),({time:f,timezone:c})=>(w(),k("div",{class:"app__clock",key:c},[(w(),Y(Ut(h(n)),{time:f},null,8,["time"])),u("div",Uo,[u("div",Go,F(h(ft)(c)),1),u("div",qo,F(a(f,c)),1)]),u("div",Jo,[u("button",{class:"button button--alert",onClick:g=>h(wo)(c)},"Remove",8,Ko)])]))),128))]),_:1})]),u("footer",Zo,[H(lt,null,{default:T(()=>[Xo]),_:1})])]),_:1}),H(Lo,{ref_key:"addClockModal",ref:t},null,512)]))}});var Yo=Object.defineProperty,tt=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,rt=(e,t,r)=>t in e?Yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ot=(e,t)=>{for(var r in t||(t={}))Qo.call(t,r)&&rt(e,r,t[r]);if(tt)for(var r of tt(t))en.call(t,r)&&rt(e,r,t[r]);return e},tn="plugin:devtools",I="harlem",Ae="$all",nt={label:"Harlem",color:4244621},rn={set:"plugin:devtools:set"};function bt(e,t){return e.localeCompare(t)}function on(e,t){return r=>{const{app:o,inspectorId:n}=r;if(o!==e||n!==I||t.size===0)return;const a=Array.from(t.keys()).sort(bt).map(s=>({id:s,label:s}));r.rootNodes=[{children:a,id:Ae,label:"Stores"}]}}function nn(e){try{return e()}catch{return"Failed to compute value..."}}function sn(e){return Object.entries(e.registrations).reduce((t,[r,o])=>(t[r]=Array.from(o).sort(([n],[a])=>bt(n,a)).map(([n,{type:a,producer:s}])=>({key:n,value:nn(s),editable:!1,objectType:a})),t),{state:[{key:e.name,value:mt(e.state,Te.pattern),editable:!0,objectType:"reactive"}]})}function an(e){return e.reduce((t,r)=>{if(!r)return t;const o=sn(r);return Object.entries(o).reduce((n,[a,s])=>(n[a]=(n[a]||[]).concat(s),n),{})},{})}function cn(e,t){return r=>{const{app:o,inspectorId:n,nodeId:a}=r;if(o!==e||n!==I||t.size===0)return;let s=[t.get(a)||t.values().next().value];a===Ae&&(s=Array.from(t.values())),s.length>0&&(r.state=an(s))}}function ln(e,t){return r=>{const{app:o,inspectorId:n,nodeId:a,path:s,state:d,set:i}=r;if(o!==e||n!==I||t.size===0)return;const f=s.shift(),c=a===Ae&&f||a,g=t.get(c);!g||g.write(rn.set,tn,b=>i(b,s,d.value))}}function st(e,t){return r=>{if(!r)return;const{store:o}=r;e.sendInspectorState(I),e.addTimelineEvent({layerId:I,event:{logType:t,title:"Mutation",subtitle:o,groupId:o,time:Date.now(),data:r,meta:{store:o}}})}}function un(e=nt){const{label:t,color:r}=ot(ot({},nt),e);return{name:"devtools",install(o,n,a){const s=on(o,a),d=cn(o,a),i=ln(o,a);Gt({app:o,label:t,id:I,logo:"https://harlemjs.com/assets/images/favicon.png",homepage:"https://harlemjs.com",packageName:"@harlem/plugin-devtools"},c=>{const g=st(c),b=st(c,"error");c.addInspector({label:t,id:I,icon:"source",treeFilterPlaceholder:"Search stores"}),c.addTimelineLayer({label:t,color:r,id:I,skipScreenshots:!0}),c.on.getInspectorTree(s),c.on.getInspectorState(d),c.on.editInspectorState(i),n.on(v.mutation.success,g),n.on(v.mutation.error,b),n.on(v.devtools.update,()=>{c.sendInspectorTree(I),c.sendInspectorState(I)})})}}}function dn(){return qt(Wo).use(Qr,{plugins:[un()]}).mount("body")}dn();
//# sourceMappingURL=index.1ac77765.js.map
